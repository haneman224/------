<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <script>
      let ctx, p0, p1;
      function init() {
        let canvas = document.getElementById("canvas");
        ctx = canvas.getContext("2d"); // 描画コンテキスト取得
        ctx.strokeStyle = "#FF0000";  // 線の色
        canvas.onmousedown = mymousedown; // マウス押下時のイベントハンドラ登録
        canvas.onmouseup = mymouseup; // マウスリリース時のイベントハンドラ登録
      }
      function mymousedown(e) {
        p0 = { x: e.offsetX, y: e.offsetY };  // マウス押下時の座標を変数p0に保存
      }
      function mymouseup(e) {
        ctx.clearRect(0, 0, 500, 500);
        ctx.beginPath();
        ctx.moveTo(p0.x, p0.y); // p0を開始点に
        ctx.lineTo(e.offsetX, e.offsetY); // 現在のマウス座標を終点に
        ctx.stroke(); // 線の描画
      }
    </script>
  </head>
  <body onload="init()">
    <canvas
      id="canvas"
      width="500"
      height="500"
      style="width: 500px; height: 500px; border: 1px solid black"
    ></canvas>
  </body>
</html>
